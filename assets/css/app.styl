@import 'nib'
@import '../../node_modules/jeet/stylus/jeet/*'
@import '_mixins.styl'

// Media queries
$xl = 1439px
$lg = 1260px
$md = 1023px
$sm = 767px

// Colors
$primary ?= #fff6d8
$secondary ?= #00471b
$accent ?= #ff0000

// Metrics
$padding = 10px

// CSS Reset
global-reset()
@import '_helpers.styl'

webfont('L', 'L', true, 'normal')
webfont('P', 'P', true, 'normal')

body,html
	width 100%
	height 100%
	background-color $primary
	-webkit-text-size-adjust 100%

html
	font-size 62.5%
	+below($sm)
		font-size 42%
	+above($md)
		font-size .7vw
	+above($xl)
		font-size .45vw

body
	text-rendering optimizeLegibility
	font-smoothing()
	font-size 1.4rem
	font-family 'P', Times New Roman, serif
	line-height 1.2
	color $secondary
	+below($sm)
		font-size 2.1rem

p
	margin-bottom 1em

p:last-child
	margin-bottom 0

.paragraphs
	flowing-paragraph(2em)

small, em
	font-family 'L'
	font-size 1.5rem
	+below($sm)
		font-size 1.8rem

em
	display inline-block

.tiny
	font-size 1.5rem
	display inline-block
	margin-top .3em
	+below($sm)
		font-size 1.6rem

ol
	list-style upper-alpha
	list-style-position inside

ul
	li:before
		content '-'
		margin-right .3em

hr
	border none
	background $secondary
	height 1px

table.index
	border none
	white-space nowrap
	table-layout initial
	td, th
		padding 0
		border none
		overflow hidden
	td:nth-child(1)
		position relative
		width 100%
	td:nth-child(1)::after
		content ''
		display inline-block
		height 1px
		background $secondary
		width 100%		
		bottom .3em
	td:nth-child(2)
		padding-left .2em
	span
		margin 0
		display inline-block
	p:last-of-type
		margin-bottom 0

.colorize
	position relative
	display block
	img
		border 1px solid $secondary
		mix-blend-mode multiply

// .colorize::after
// 	content: ''
// 	position: absolute
// 	width: 100%
// 	height: 100%
// 	background: #0b6b30
// 	top: 0
// 	left: 0
// 	mix-blend-mode: screen

::selection
	background rgb(94, 142, 112)
	color $primary
	
::-moz-selection
	background rgb(94, 142, 112)
	color $primary

*
	box-sizing(border-box)

a, a:hover, a:visited, a:focus
	color inherit
	text-decoration none
	cursor pointer

.loader
	position fixed
	width 100%
	height 100%
	top 0
	left 0
	background $primary
	background-size 15px
	z-index 10000

#intro
	hideselect()
	position fixed
	width 100%
	height 100%
	top 0
	left 0
	z-index 1500
	flexbox()
	align-items center
	justify-content center
	cursor pointer
	background $primary
	span
		font-size 3vw
		+below($sm)
			font-size 2.6rem

header
	position fixed
	width 100%
	top 0
	left 0
	text-align center
	padding 3rem
	z-index 1000
	hideselect()
	background-color $primary
	.site-title
		display block
	.menu
		display none
		width 100%
		text-transform uppercase
		span
			display inline-block
			margin 0 .5rem

header[data-home]:hover
	.site-title
		+above($md)
			display none
	.menu
		+above($md)
			display block

#container
	span(1)
	margin-top 10rem
	padding 0 3rem
	font-size 2.1rem
	+above($xl)
		padding 0 13vw

#sections
	span(1)

.section-title
	span(1)
	hideselect()
	text-transform uppercase
	text-align center
	border-top 1px solid $secondary
	border-bottom 1px solid $secondary
	padding .5rem 0

.section-title.nbt
	border-top none

section
	span(1)
	margin-bottom 8rem
	+below($md)
		margin-bottom 12rem
	section
		margin-bottom 0
		+below($md)
			margin-bottom 12rem
	section:last-child
		margin-bottom 0

footer
	span(1)
	padding 3rem